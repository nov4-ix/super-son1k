<!DOCTYPE html>
<html lang="es" class="scroll-smooth">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Son1kVers3 ‚Äî La Resistencia</title>
  
  <!-- SEO -->
  <meta name="description" content="Son1kVers3: Genera m√∫sica con IA, Ghost Studio y El Santuario. Lo imperfecto tambi√©n es sagrado.">
  <meta property="og:title" content="Son1kVers3 ‚Äî Resistencia sonora">
  <meta property="og:description" content="Texto‚ÜíM√∫sica, Ghost Studio, El Santuario.">
  <meta name="theme-color" content="#0b0b0d">
  
  <!-- Fuentes -->
  <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
  
  <script src="https://cdn.tailwindcss.com"></script>
  
  <style>
    :root {
      --neon: #00ff88;
      --neon-glow: rgba(0, 255, 136, 0.3);
    }
    
    .pulse-neon {
      animation: pulse-neon 2s infinite;
    }
    
    @keyframes pulse-neon {
      0%, 100% { box-shadow: 0 0 5px var(--neon-glow); }
      50% { box-shadow: 0 0 20px var(--neon-glow), 0 0 30px var(--neon-glow); }
    }
    
    .glow-neon {
      text-shadow: 0 0 10px var(--neon-glow);
    }
    
    .section-hidden {
      display: none;
    }
    
    .terminal-cursor::after {
      content: '‚ñã';
      animation: blink 1s infinite;
    }
    
    @keyframes blink {
      0%, 50% { opacity: 1; }
      51%, 100% { opacity: 0; }
    }
    
    .matrix-bg {
      background: linear-gradient(180deg, #0b0b0d 0%, #1a1a1a 100%);
      position: relative;
      overflow: hidden;
    }
    
    .matrix-bg::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-image: 
        radial-gradient(circle at 25% 25%, var(--neon-glow) 0%, transparent 50%),
        radial-gradient(circle at 75% 75%, rgba(0, 255, 136, 0.1) 0%, transparent 50%);
      pointer-events: none;
    }
    
    .btn {
      transition: all 0.3s ease;
    }
    
    .btn:hover {
      transform: translateY(-2px);
    }
    
    .toast {
      position: fixed;
      top: 20px;
      right: 20px;
      padding: 16px 24px;
      border-radius: 12px;
      color: white;
      font-weight: 600;
      z-index: 9999;
      transform: translateX(400px);
      transition: transform 0.3s ease;
    }
    
    .toast.show {
      transform: translateX(0);
    }
    
    .toast.success {
      background: linear-gradient(135deg, #00ff88, #00cc6a);
    }
    
    .toast.error {
      background: linear-gradient(135deg, #ff4757, #ff3742);
    }
    
    .toast.warning {
      background: linear-gradient(135deg, #ffa502, #ff9500);
    }
    
    /* Estilos para chat */
    .chat-bubble {
      max-width: 70%;
      padding: 12px 16px;
      border-radius: 18px;
      margin-bottom: 8px;
      word-wrap: break-word;
    }
    
    .chat-bubble.user {
      background: linear-gradient(135deg, var(--neon), #00cc6a);
      color: black;
      margin-left: auto;
      margin-right: 0;
    }
    
    .chat-bubble.assistant {
      background: rgba(255, 255, 255, 0.1);
      color: white;
      margin-left: 0;
      margin-right: auto;
      border: 1px solid rgba(255, 255, 255, 0.1);
    }
  </style>
</head>

<body class="bg-zinc-950 text-white font-sans matrix-bg">
  <!-- NAVEGACI√ìN -->
  <nav class="fixed top-0 w-full bg-black/80 backdrop-blur-xl border-b border-white/10 z-50">
    <div class="mx-auto max-w-7xl px-4">
      <div class="flex justify-between items-center h-16">
        <div class="flex items-center space-x-4">
          <h1 class="text-xl font-bold">
            <span class="text-white">Son1k</span><span class="text-neon glow-neon">Vers3</span>
          </h1>
          <div class="hidden md:flex items-center space-x-1 text-sm">
            <div class="w-2 h-2 bg-neon rounded-full pulse-neon"></div>
            <span class="text-neon">La Resistencia</span>
          </div>
        </div>
        
        <div class="flex items-center space-x-6">
          <button onclick="showSection('crear')" class="nav-btn hover:text-neon transition">Crear</button>
          <button onclick="showSection('ghost-studio')" class="nav-btn hover:text-neon transition">Ghost Studio</button>
          <button onclick="showSection('archivo')" class="nav-btn hover:text-neon transition">Archivo</button>
          <button onclick="showSection('santuario')" class="nav-btn hover:text-neon transition pro-feature">El Santuario</button>
          <button onclick="showSection('asistente')" class="nav-btn hover:text-neon transition">NOV4-IX</button>
          <button onclick="showSection('terminal')" class="nav-btn hover:text-neon transition">Terminal</button>
          
          <div class="flex items-center space-x-2">
            <div id="userInfo" class="text-sm text-zinc-400">
              <span id="userName">Usuario</span>
              <span id="userPlan" class="text-neon">FREE</span>
            </div>
            <button onclick="logout()" class="text-red-400 hover:text-red-300 transition">Salir</button>
          </div>
        </div>
      </div>
    </div>
  </nav>

  <!-- SECCI√ìN CREAR M√öSICA -->
  <section id="crear" class="content-section min-h-screen pt-20 pb-10">
    <div class="mx-auto max-w-7xl px-4">
      <div class="text-center mb-12">
        <h2 class="text-4xl md:text-5xl font-bold mb-4">
          Crear <span class="text-neon glow-neon">M√∫sica</span>
        </h2>
        <p class="text-zinc-400 text-lg max-w-2xl mx-auto">
          Transforma palabras en melod√≠as √©picas. Lo imperfecto tambi√©n es sagrado.
        </p>
        <div class="inline-flex items-center space-x-2 mt-4">
          <div class="w-3 h-3 bg-neon rounded-full pulse-neon"></div>
          <span class="text-sm text-neon">Sistema activo</span>
        </div>
      </div>

      <div class="max-w-4xl mx-auto">
        <div class="rounded-2xl border border-white/10 bg-white/5 backdrop-blur-xl p-8 mb-8">
          
          <!-- ASISTENTE DE PROMPTS -->
          <div class="mb-8 p-6 bg-zinc-900/50 rounded-xl border border-neon/20">
            <h3 class="text-lg font-semibold text-neon mb-4">üéØ Asistente de Prompts Inteligente</h3>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-4">
              <button onclick="generateSmartPrompt('epic')" class="btn bg-zinc-700 hover:bg-neon/20 text-white px-4 py-2 rounded-lg transition">
                ‚ö° √âpico
              </button>
              <button onclick="generateSmartPrompt('synthwave')" class="btn bg-zinc-700 hover:bg-neon/20 text-white px-4 py-2 rounded-lg transition">
                üåÜ Synthwave
              </button>
              <button onclick="generateSmartPrompt('cyberpunk')" class="btn bg-zinc-700 hover:bg-neon/20 text-white px-4 py-2 rounded-lg transition">
                ü§ñ Cyberpunk
              </button>
            </div>
            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
              <button onclick="generateSmartPrompt('emotional')" class="btn bg-zinc-700 hover:bg-neon/20 text-white px-4 py-2 rounded-lg transition">
                üí´ Emocional
              </button>
              <button onclick="generateSmartPrompt('resistance')" class="btn bg-zinc-700 hover:bg-neon/20 text-white px-4 py-2 rounded-lg transition">
                ‚öîÔ∏è Resistencia
              </button>
              <button onclick="generateSmartPrompt('surprise')" class="btn bg-zinc-700 hover:bg-neon/20 text-white px-4 py-2 rounded-lg transition">
                üé≤ Sorpr√©ndeme
              </button>
            </div>
          </div>

          <!-- FORMULARIO PRINCIPAL -->
          <div class="space-y-6">
            <div>
              <label class="block text-lg font-medium text-zinc-300 mb-3">Prompt Musical</label>
              <textarea 
                id="promptMusical" 
                class="w-full h-32 bg-zinc-900/50 border border-white/10 rounded-lg px-4 py-3 text-white resize-none focus:border-neon/50 focus:outline-none transition"
                placeholder="Describe tu visi√≥n musical..."
              ></textarea>
            </div>

            <div>
              <label class="block text-lg font-medium text-zinc-300 mb-3">Letras (Opcional)</label>
              <textarea 
                id="letrasMusical" 
                class="w-full h-24 bg-zinc-900/50 border border-white/10 rounded-lg px-4 py-3 text-white resize-none focus:border-neon/50 focus:outline-none transition"
                placeholder="Escribe las letras de tu canci√≥n..."
              ></textarea>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
              <div>
                <label class="block text-lg font-medium text-zinc-300 mb-3">Estilo</label>
                <select id="estiloMusical" class="w-full bg-zinc-900/50 border border-white/10 rounded-lg px-4 py-3 text-white focus:border-neon/50 focus:outline-none transition">
                  <option value="synthwave">Synthwave</option>
                  <option value="cyberpunk">Cyberpunk</option>
                  <option value="epic">√âpico</option>
                  <option value="electronic">Electr√≥nico</option>
                  <option value="ambient">Ambient</option>
                  <option value="industrial">Industrial</option>
                </select>
              </div>

              <div>
                <label class="block text-lg font-medium text-zinc-300 mb-3">Duraci√≥n</label>
                <select id="duracionMusical" class="w-full bg-zinc-900/50 border border-white/10 rounded-lg px-4 py-3 text-white focus:border-neon/50 focus:outline-none transition">
                  <option value="30">30 segundos</option>
                  <option value="60">1 minuto</option>
                  <option value="120">2 minutos</option>
                  <option value="180">3 minutos (Pro)</option>
                  <option value="300">5 minutos (Pro)</option>
                </select>
              </div>
            </div>

            <div class="flex items-center space-x-4">
              <label class="inline-flex items-center">
                <input type="checkbox" id="modoInstrumental" class="sr-only">
                <div class="relative">
                  <div class="w-10 h-6 bg-zinc-700 rounded-full shadow-inner"></div>
                  <div class="absolute inset-0 w-4 h-4 bg-white rounded-full shadow transform transition-transform duration-300 ease-in-out top-1 left-1"></div>
                </div>
                <span class="ml-3 text-zinc-300">Modo Instrumental</span>
              </label>
            </div>

            <button 
              id="generarMusica" 
              onclick="generarMusica()" 
              class="w-full bg-gradient-to-r from-neon to-green-400 text-black font-bold py-4 px-8 rounded-lg hover:from-green-400 hover:to-neon transition-all duration-300 btn text-lg"
            >
              üéµ Generar M√∫sica
            </button>
          </div>
        </div>

        <!-- ESTADO DE GENERACI√ìN -->
        <div id="estadoGeneracion" class="rounded-xl border border-white/10 bg-white/5 backdrop-blur-xl p-6 section-hidden">
          <div class="flex items-center justify-between mb-4">
            <h3 class="text-lg font-semibold">Estado de Generaci√≥n</h3>
            <div class="flex items-center space-x-2">
              <div class="w-3 h-3 bg-neon rounded-full pulse-neon"></div>
              <span class="text-sm text-neon" id="estadoTexto">Procesando...</span>
            </div>
          </div>
          <div class="bg-zinc-900/50 rounded-lg p-4">
            <div id="progresoGeneracion" class="space-y-2">
              <p class="text-zinc-400">Iniciando generaci√≥n musical...</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- SECCI√ìN ASISTENTE NOV4-IX -->
  <section id="asistente" class="content-section section-hidden min-h-screen pt-20 pb-10">
    <div class="mx-auto max-w-7xl px-4">
      <div class="text-center mb-12">
        <h2 class="text-4xl md:text-5xl font-bold mb-4">
          <span class="text-neon glow-neon">NOV4-IX</span> Asistente IA
        </h2>
        <p class="text-zinc-400 text-lg max-w-2xl mx-auto">
          Tu compa√±ero inteligente para la creaci√≥n musical. Especialista en el universo Son1kVers3.
        </p>
        <div class="inline-flex items-center space-x-2 mt-4">
          <div class="w-3 h-3 bg-neon rounded-full pulse-neon"></div>
          <span class="text-sm text-neon">NOV4-IX Online</span>
        </div>
      </div>

      <div class="max-w-4xl mx-auto">
        <div class="rounded-2xl border border-white/10 bg-white/5 backdrop-blur-xl p-8">
          
          <!-- CHAT CONTAINER -->
          <div class="mb-6">
            <div id="chatContainer" class="h-96 bg-zinc-900/50 rounded-lg p-4 overflow-y-auto border border-white/10">
              <div class="chat-bubble assistant">
                <p>ü§ñ <strong>NOV4-IX Online</strong></p>
                <p>Especialista musical del proyecto "La Resistencia". ¬øEn qu√© puedo ayudarte hoy?</p>
                <p class="text-sm mt-2 opacity-70">Puedo ayudarte con letras, acordes, prompts para Suno AI, teor√≠a musical y m√°s.</p>
              </div>
            </div>
          </div>

          <!-- QUICK ACTIONS -->
          <div class="grid grid-cols-2 md:grid-cols-4 gap-3 mb-6">
            <button onclick="quickAssistantPrompt('Ay√∫dame con letras √©picas cyberpunk')" class="btn bg-zinc-700 hover:bg-neon/20 text-white px-3 py-2 rounded-lg transition text-sm">
              üìù Letras √âpicas
            </button>
            <button onclick="quickAssistantPrompt('Dame acordes para synthwave')" class="btn bg-zinc-700 hover:bg-neon/20 text-white px-3 py-2 rounded-lg transition text-sm">
              üéπ Acordes
            </button>
            <button onclick="quickAssistantPrompt('Optimiza mi prompt para Suno AI')" class="btn bg-zinc-700 hover:bg-neon/20 text-white px-3 py-2 rounded-lg transition text-sm">
              üéõÔ∏è Prompt Suno
            </button>
            <button onclick="quickAssistantPrompt('Expl√≠came teor√≠a musical')" class="btn bg-zinc-700 hover:bg-neon/20 text-white px-3 py-2 rounded-lg transition text-sm">
              üìö Teor√≠a
            </button>
          </div>

          <!-- INPUT AREA -->
          <div class="flex space-x-3">
            <input 
              type="text" 
              id="assistantInput" 
              class="flex-1 bg-zinc-900/50 border border-white/10 rounded-lg px-4 py-3 text-white focus:border-neon/50 focus:outline-none transition"
              placeholder="Pregunta algo a NOV4-IX..."
              onkeypress="if(event.key==='Enter') sendAssistantMessage()"
            >
            <button 
              onclick="sendAssistantMessage()" 
              class="bg-gradient-to-r from-neon to-green-400 text-black font-bold px-6 py-3 rounded-lg hover:from-green-400 hover:to-neon transition-all duration-300 btn"
            >
              Enviar
            </button>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- SECCI√ìN EL SANTUARIO -->
  <section id="santuario" class="content-section section-hidden min-h-screen pt-20 pb-10">
    <div class="mx-auto max-w-7xl px-4">
      <div class="text-center mb-12">
        <h2 class="text-4xl md:text-5xl font-bold mb-4">
          <span class="text-neon glow-neon">El Santuario</span>
        </h2>
        <p class="text-zinc-400 text-lg max-w-2xl mx-auto">
          Red social exclusiva para usuarios Pro y Enterprise. Colabora, comparte y crece con la comunidad.
        </p>
        <div class="inline-flex items-center space-x-2 mt-4">
          <div class="w-3 h-3 bg-neon rounded-full pulse-neon"></div>
          <span class="text-sm text-neon">Comunidad Activa</span>
        </div>
      </div>

      <div class="max-w-6xl mx-auto">
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
          
          <!-- CHAT COMUNITARIO -->
          <div class="lg:col-span-2">
            <div class="rounded-2xl border border-white/10 bg-white/5 backdrop-blur-xl p-6">
              <h3 class="text-xl font-semibold mb-4 flex items-center">
                üí¨ Chat Comunitario
                <span class="ml-2 text-sm bg-neon/20 text-neon px-2 py-1 rounded-full">47 conectados</span>
              </h3>
              
              <div id="sanctuaryChat" class="h-80 bg-zinc-900/50 rounded-lg p-4 overflow-y-auto border border-white/10 mb-4">
                <div class="space-y-3">
                  <div class="flex items-start space-x-3">
                    <div class="w-8 h-8 bg-neon rounded-full flex items-center justify-center text-black font-bold text-sm">P</div>
                    <div>
                      <div class="flex items-center space-x-2">
                        <span class="font-semibold text-neon">ProUser_23</span>
                        <span class="text-xs text-zinc-400">hace 2 min</span>
                      </div>
                      <p class="text-zinc-300">¬°Acabo de terminar una colaboraci√≥n √©pica! ¬øAlguien quiere escuchar?</p>
                    </div>
                  </div>
                  
                  <div class="flex items-start space-x-3">
                    <div class="w-8 h-8 bg-purple-500 rounded-full flex items-center justify-center text-white font-bold text-sm">E</div>
                    <div>
                      <div class="flex items-center space-x-2">
                        <span class="font-semibold text-purple-400">Enterprise_Dev</span>
                        <span class="text-xs text-zinc-400">hace 5 min</span>
                      </div>
                      <p class="text-zinc-300">Nuevo reto: crear una track de 3 minutos usando solo elementos cyberpunk. ¬øQui√©n se apunta?</p>
                    </div>
                  </div>
                </div>
              </div>

              <div class="flex space-x-3">
                <input 
                  type="text" 
                  id="sanctuaryInput" 
                  class="flex-1 bg-zinc-900/50 border border-white/10 rounded-lg px-4 py-3 text-white focus:border-neon/50 focus:outline-none transition"
                  placeholder="Comparte con la comunidad..."
                  onkeypress="if(event.key==='Enter') sendSanctuaryMessage()"
                >
                <button 
                  onclick="sendSanctuaryMessage()" 
                  class="bg-gradient-to-r from-neon to-green-400 text-black font-bold px-6 py-3 rounded-lg hover:from-green-400 hover:to-neon transition-all duration-300 btn"
                >
                  Enviar
                </button>
              </div>
            </div>
          </div>

          <!-- SIDEBAR - ACTIVIDADES -->
          <div class="space-y-6">
            
            <!-- RETOS ACTIVOS -->
            <div class="rounded-2xl border border-white/10 bg-white/5 backdrop-blur-xl p-6">
              <h3 class="text-lg font-semibold mb-4 text-neon">üèÜ Retos Activos</h3>
              <div class="space-y-3">
                <div class="bg-zinc-900/50 rounded-lg p-3 border border-orange-500/30">
                  <h4 class="font-semibold text-orange-400">Cyberpunk Challenge</h4>
                  <p class="text-sm text-zinc-400 mt-1">3 d√≠as restantes</p>
                  <p class="text-xs text-zinc-500 mt-2">15 participantes</p>
                </div>
                
                <div class="bg-zinc-900/50 rounded-lg p-3 border border-blue-500/30">
                  <h4 class="font-semibold text-blue-400">Collaborative Track</h4>
                  <p class="text-sm text-zinc-400 mt-1">1 semana restante</p>
                  <p class="text-xs text-zinc-500 mt-2">8 colaboradores</p>
                </div>
              </div>
              
              <button class="w-full mt-4 bg-gradient-to-r from-orange-500 to-red-500 text-white font-bold py-2 px-4 rounded-lg hover:from-red-500 hover:to-orange-500 transition-all duration-300 btn">
                Crear Reto
              </button>
            </div>

            <!-- COLABORACIONES -->
            <div class="rounded-2xl border border-white/10 bg-white/5 backdrop-blur-xl p-6">
              <h3 class="text-lg font-semibold mb-4 text-neon">ü§ù Colaboraciones</h3>
              <div class="space-y-3">
                <div class="bg-zinc-900/50 rounded-lg p-3">
                  <h4 class="font-semibold">Epic Synthwave</h4>
                  <p class="text-sm text-zinc-400 mt-1">con @ProUser_23</p>
                  <p class="text-xs text-zinc-500 mt-2">En progreso</p>
                </div>
                
                <div class="bg-zinc-900/50 rounded-lg p-3">
                  <h4 class="font-semibold">Dark Ambient</h4>
                  <p class="text-sm text-zinc-400 mt-1">Buscando colaborador</p>
                  <p class="text-xs text-zinc-500 mt-2">Publicado hace 1 d√≠a</p>
                </div>
              </div>
              
              <button class="w-full mt-4 bg-gradient-to-r from-blue-500 to-purple-500 text-white font-bold py-2 px-4 rounded-lg hover:from-purple-500 hover:to-blue-500 transition-all duration-300 btn">
                Nueva Colaboraci√≥n
              </button>
            </div>

            <!-- USUARIOS CONECTADOS -->
            <div class="rounded-2xl border border-white/10 bg-white/5 backdrop-blur-xl p-6">
              <h3 class="text-lg font-semibold mb-4 text-neon">üë• Conectados</h3>
              <div class="space-y-2">
                <div class="flex items-center space-x-3">
                  <div class="w-6 h-6 bg-neon rounded-full"></div>
                  <span class="text-sm">ProUser_23</span>
                  <div class="w-2 h-2 bg-green-400 rounded-full ml-auto"></div>
                </div>
                
                <div class="flex items-center space-x-3">
                  <div class="w-6 h-6 bg-purple-500 rounded-full"></div>
                  <span class="text-sm">Enterprise_Dev</span>
                  <div class="w-2 h-2 bg-green-400 rounded-full ml-auto"></div>
                </div>
                
                <div class="flex items-center space-x-3">
                  <div class="w-6 h-6 bg-blue-500 rounded-full"></div>
                  <span class="text-sm">MusicMaster</span>
                  <div class="w-2 h-2 bg-yellow-400 rounded-full ml-auto"></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- SECCI√ìN TERMINAL -->
  <section id="terminal" class="content-section section-hidden min-h-screen pt-20 pb-10">
    <div class="mx-auto max-w-7xl px-4">
      <div class="text-center mb-12">
        <h2 class="text-4xl md:text-5xl font-bold mb-4">
          <span class="text-neon glow-neon">Son1kVers3</span> Terminal
        </h2>
        <p class="text-zinc-400 text-lg max-w-2xl mx-auto">
          Acceso directo al sistema. Solo para usuarios avanzados.
        </p>
      </div>

      <div class="max-w-4xl mx-auto">
        <div class="rounded-2xl border border-white/10 bg-black/80 backdrop-blur-xl p-6 font-mono">
          <div class="flex items-center space-x-2 mb-4">
            <div class="w-3 h-3 bg-red-400 rounded-full"></div>
            <div class="w-3 h-3 bg-yellow-400 rounded-full"></div>
            <div class="w-3 h-3 bg-green-400 rounded-full"></div>
            <span class="text-sm text-zinc-400 ml-4">son1kvers3@terminal:~$</span>
          </div>
          
          <div id="terminalOutput" class="h-80 overflow-y-auto mb-4 text-sm">
            <div class="text-neon">
Son1kVers3 Terminal v1.0.0
Sistema de Generaci√≥n Musical Avanzado
========================================

Comandos disponibles:
- help: Mostrar ayuda
- status: Estado del sistema  
- generate [prompt]: Generar m√∫sica
- easter: ??? 
- resistance: ???
- nov4ix: ???

Escribe 'help' para m√°s informaci√≥n.
            </div>
          </div>

          <div class="flex items-center space-x-2">
            <span class="text-neon">son1kvers3@terminal:~$</span>
            <input 
              type="text" 
              id="terminalInput" 
              class="flex-1 bg-transparent text-neon outline-none terminal-cursor"
              onkeypress="if(event.key==='Enter') executeTerminalCommand()"
              autocomplete="off"
            >
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- SECCI√ìN GHOST STUDIO -->
  <section id="ghost-studio" class="content-section section-hidden min-h-screen pt-20 pb-10">
    <div class="mx-auto max-w-7xl px-4">
      <div class="text-center mb-12">
        <h2 class="text-3xl md:text-4xl font-bold mb-4">Ghost Studio</h2>
        <p class="text-zinc-400 max-w-2xl mx-auto">Sube tu demo o escribe un prompt. El Estudio Fantasma devuelve una maqueta con mezcla y car√°cter.</p>
        <div class="inline-flex items-center space-x-2 mt-4">
          <div class="w-3 h-3 bg-neon rounded-full pulse-neon"></div>
          <span class="text-sm text-neon">online</span>
        </div>
      </div>
      
      <div class="max-w-4xl mx-auto">
        <div class="rounded-2xl border border-white/10 bg-white/5 backdrop-blur-xl p-8">
          <div class="mb-8">
            <label class="block text-lg font-medium text-zinc-300 mb-4">Prompt de Generaci√≥n Musical</label>
            <textarea 
              class="w-full h-24 bg-zinc-900/50 border border-white/10 rounded-lg px-4 py-3 text-white resize-none focus:border-neon/50 focus:outline-none transition"
              placeholder="Ej: una balada emotiva con piano y cuerdas, estilo neo-soul, tempo 70 BPM, voz masculina expresiva"
              id="promptGhostStudio"
            ></textarea>
          </div>
          
          <div class="mb-8">
            <label class="block text-lg font-medium text-zinc-300 mb-4">Preset</label>
            <select class="w-full bg-zinc-900/50 border border-white/10 rounded-lg px-4 py-3 text-white focus:border-neon/50 focus:outline-none transition" id="presetGhost">
              <option>Profesional</option>
              <option>Experimental</option>
              <option>Vintage</option>
              <option>Crudo</option>
              <option>Cinematogr√°fico</option>
            </select>
          </div>
          
          <div class="mb-8">
            <label class="block text-lg font-medium text-zinc-300 mb-4">Tags/Estilo</label>
            <input 
              type="text" 
              class="w-full bg-zinc-900/50 border border-white/10 rounded-lg px-4 py-3 text-white focus:border-neon/50 focus:outline-none transition"
              placeholder="pop, ballad, emotional, piano"
              id="tagsEstilo"
            >
          </div>
          
          <div class="mb-8">
            <label class="inline-flex items-center">
              <input type="checkbox" id="modoInstrumentalGhost" class="sr-only">
              <div class="relative">
                <div class="w-10 h-6 bg-zinc-700 rounded-full shadow-inner"></div>
                <div class="absolute inset-0 w-4 h-4 bg-white rounded-full shadow transform transition-transform duration-300 ease-in-out top-1 left-1"></div>
              </div>
              <span class="ml-3 text-zinc-300">Modo Instrumental</span>
            </label>
          </div>
          
          <button 
            id="generarMusicaGhost" 
            onclick="generarMusicaGhost()" 
            class="w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white font-bold py-4 px-8 rounded-lg hover:from-pink-600 hover:to-purple-600 transition-all duration-300 btn text-lg"
          >
            üëª Procesar en Ghost Studio
          </button>
        </div>
      </div>
    </div>
  </section>

  <!-- SECCI√ìN ARCHIVO -->
  <section id="archivo" class="content-section section-hidden min-h-screen pt-20 pb-10">
    <div class="mx-auto max-w-7xl px-4">
      <div class="text-center mb-12">
        <h2 class="text-3xl md:text-4xl font-bold mb-4">Archivo Musical</h2>
        <p class="text-zinc-400 max-w-2xl mx-auto">Tu biblioteca personal de creaciones musicales.</p>
      </div>
      
      <div class="max-w-6xl mx-auto">
        <div class="rounded-2xl border border-white/10 bg-white/5 backdrop-blur-xl p-8">
          <div id="audioLibrary" class="space-y-4">
            <div class="text-center text-zinc-400 py-12">
              <p class="text-lg">No hay archivos de audio disponibles</p>
              <p class="text-sm mt-2">Genera m√∫sica para ver los resultados aqu√≠</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- TOAST NOTIFICATIONS -->
  <div id="toastContainer"></div>

  <!-- AUDIO PLAYER -->
  <audio id="audioPlayer" preload="metadata"></audio>

  <script>
    // ================================
    // CONFIGURACI√ìN GLOBAL
    // ================================
    
    const API_BASE_URL = window.location.origin;
    let currentUser = null;
    let userToken = null;

    // ================================
    // SISTEMA DE NAVEGACI√ìN
    // ================================
    
    function showSection(sectionId) {
      // Ocultar todas las secciones
      document.querySelectorAll('.content-section').forEach(section => {
        section.classList.add('section-hidden');
        section.setAttribute('aria-hidden', 'true');
      });
      
      // Mostrar secci√≥n seleccionada
      const targetSection = document.getElementById(sectionId);
      if (targetSection) {
        targetSection.classList.remove('section-hidden');
        targetSection.setAttribute('aria-hidden', 'false');
      }
      
      // Actualizar navegaci√≥n
      document.querySelectorAll('.nav-btn').forEach(btn => {
        btn.classList.remove('text-neon');
      });
      
      event.target.classList.add('text-neon');
    }

    // ================================
    // SISTEMA DE NOTIFICACIONES
    // ================================
    
    function showToast(message, type = 'success') {
      const container = document.getElementById('toastContainer');
      const toast = document.createElement('div');
      toast.className = `toast ${type}`;
      toast.textContent = message;
      
      container.appendChild(toast);
      
      setTimeout(() => toast.classList.add('show'), 100);
      
      setTimeout(() => {
        toast.classList.remove('show');
        setTimeout(() => container.removeChild(toast), 300);
      }, 4000);
    }

    // ================================
    // ASISTENTE DE PROMPTS INTELIGENTE
    // ================================
    
    const promptTemplates = {
      epic: [
        "epic cinematic orchestral music, 128 BPM, powerful drums, soaring strings, heroic brass, emotional crescendo, professional production",
        "massive epic anthem, orchestral hybrid, thunderous percussion, choir vocals, rising action, cinematic grandeur, 130 BPM",
        "epic symphonic metal, orchestral elements, powerful guitar riffs, dramatic builds, heroic theme, 125 BPM"
      ],
      synthwave: [
        "synthwave retrowave, 128 BPM, analog synths, neon atmosphere, nostalgic vibes, driving bass, dreamy pads, 80s aesthetic",
        "outrun synthwave, upbeat tempo, vintage synthesizers, electric guitar leads, cyberpunk atmosphere, neon noir",
        "dark synthwave, moody atmosphere, deep bass, retro drums, ambient pads, cyberpunk dystopian vibes"
      ],
      cyberpunk: [
        "cyberpunk electronic, industrial beats, glitch effects, distorted synths, dark atmosphere, futuristic sounds, 140 BPM",
        "dark cyberpunk, heavy bass, digital distortion, mechanical rhythms, dystopian atmosphere, electronic warfare",
        "cyberpunk resistance anthem, electronic rock fusion, aggressive synths, rebellion theme, digital uprising"
      ],
      emotional: [
        "emotional ballad, piano driven, soaring vocals, string arrangements, heartfelt lyrics, dynamic build, 75 BPM",
        "melancholic ambient, ethereal soundscapes, emotional depth, atmospheric pads, gentle progression, introspective",
        "uplifting emotional track, inspiring melody, orchestral strings, hopeful progression, triumphant finale"
      ],
      resistance: [
        "resistance anthem, powerful vocals, driving rhythm, rebellious spirit, unity theme, call to action, 128 BPM",
        "digital resistance, electronic warfare, glitch beats, defiant melody, revolutionary spirit, cyber rebellion",
        "epic resistance march, orchestral metal, heroic theme, battle drums, freedom anthem, triumphant spirit"
      ]
    };

    function generateSmartPrompt(type) {
      const templates = promptTemplates[type] || promptTemplates.epic;
      const randomTemplate = templates[Math.floor(Math.random() * templates.length)];
      
      document.getElementById('promptMusical').value = randomTemplate;
      showToast(`Prompt ${type} generado exitosamente!`, 'success');
    }

    // ================================
    // GENERACI√ìN DE M√öSICA
    // ================================
    
    async function generarMusica() {
      try {
        const prompt = document.getElementById('promptMusical').value.trim();
        const letras = document.getElementById('letrasMusical').value.trim();
        const estilo = document.getElementById('estiloMusical').value;
        const duracion = parseInt(document.getElementById('duracionMusical').value);
        const instrumental = document.getElementById('modoInstrumental').checked;
        
        if (!prompt) {
          showToast('Por favor ingresa un prompt musical', 'warning');
          return;
        }
        
        const btn = document.getElementById('generarMusica');
        btn.disabled = true;
        btn.textContent = 'Generando...';
        
        // Mostrar estado de generaci√≥n
        document.getElementById('estadoGeneracion').classList.remove('section-hidden');
        updateGenerationProgress('Iniciando generaci√≥n musical...');
        
        const response = await fetch(`${API_BASE_URL}/api/generate`, {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
            'ngrok-skip-browser-warning': 'true'
          },
          body: JSON.stringify({
            prompt: prompt,
            lyrics: letras,
            style: estilo,
            instrumental: instrumental,
            duration: duracion
          })
        });
        
        if (!response.ok) {
          throw new Error(`Error HTTP: ${response.status}`);
        }
        
        const data = await response.json();
        
        updateGenerationProgress('¬°M√∫sica generada exitosamente!');
        showToast('¬°M√∫sica generada exitosamente!', 'success');
        
        // Simular progreso adicional
        setTimeout(() => {
          updateGenerationProgress('Procesando audio...');
          setTimeout(() => {
            updateGenerationProgress('¬°Listo! Revisa el archivo en tu biblioteca.');
            document.getElementById('estadoTexto').textContent = 'Completado';
          }, 2000);
        }, 1000);
        
      } catch (error) {
        console.error('Error:', error);
        showToast('Error generando m√∫sica: ' + error.message, 'error');
        updateGenerationProgress('Error en la generaci√≥n: ' + error.message);
      } finally {
        const btn = document.getElementById('generarMusica');
        btn.disabled = false;
        btn.textContent = 'üéµ Generar M√∫sica';
      }
    }

    function updateGenerationProgress(message) {
      const container = document.getElementById('progresoGeneracion');
      const p = document.createElement('p');
      p.className = 'text-zinc-300';
      p.textContent = `${new Date().toLocaleTimeString()}: ${message}`;
      container.appendChild(p);
      container.scrollTop = container.scrollHeight;
    }

    // ================================
    // GHOST STUDIO
    // ================================
    
    async function generarMusicaGhost() {
      try {
        const prompt = document.getElementById('promptGhostStudio').value.trim();
        const preset = document.getElementById('presetGhost').value;
        const tags = document.getElementById('tagsEstilo').value.trim();
        const instrumental = document.getElementById('modoInstrumentalGhost').checked;
        
        if (!prompt) {
          showToast('Por favor ingresa un prompt para Ghost Studio', 'warning');
          return;
        }
        
        const btn = document.getElementById('generarMusicaGhost');
        btn.disabled = true;
        btn.textContent = 'Procesando en Ghost Studio...';
        
        const response = await fetch(`${API_BASE_URL}/api/generate`, {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
            'ngrok-skip-browser-warning': 'true'
          },
          body: JSON.stringify({
            prompt: `${preset} ${prompt} ${tags}`.trim(),
            instrumental: instrumental,
            style: 'ghost_studio'
          })
        });
        
        if (!response.ok) {
          throw new Error(`Error HTTP: ${response.status}`);
        }
        
        const data = await response.json();
        showToast('¬°Ghost Studio procesando tu maqueta!', 'success');
        
      } catch (error) {
        console.error('Error:', error);
        showToast('Error en Ghost Studio: ' + error.message, 'error');
      } finally {
        const btn = document.getElementById('generarMusicaGhost');
        btn.disabled = false;
        btn.textContent = 'üëª Procesar en Ghost Studio';
      }
    }

    // ================================
    // ASISTENTE NOV4-IX
    // ================================
    
    async function sendAssistantMessage() {
      const input = document.getElementById('assistantInput');
      const message = input.value.trim();
      
      if (!message) return;
      
      // Agregar mensaje del usuario
      addChatMessage(message, 'user');
      input.value = '';
      
      try {
        const response = await fetch(`${API_BASE_URL}/api/chat`, {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
            'ngrok-skip-browser-warning': 'true'
          },
          body: JSON.stringify({
            message: message
          })
        });
        
        if (!response.ok) {
          throw new Error(`Error HTTP: ${response.status}`);
        }
        
        const data = await response.json();
        addChatMessage(data.response, 'assistant');
        
      } catch (error) {
        console.error('Error:', error);
        addChatMessage('Error conectando con NOV4-IX: ' + error.message, 'assistant');
      }
    }

    function addChatMessage(message, sender) {
      const container = document.getElementById('chatContainer');
      const bubble = document.createElement('div');
      bubble.className = `chat-bubble ${sender}`;
      
      if (sender === 'assistant') {
        bubble.innerHTML = message.replace(/\n/g, '<br>');
      } else {
        bubble.textContent = message;
      }
      
      container.appendChild(bubble);
      container.scrollTop = container.scrollHeight;
    }

    function quickAssistantPrompt(prompt) {
      document.getElementById('assistantInput').value = prompt;
      sendAssistantMessage();
    }

    // ================================
    // EL SANTUARIO
    // ================================
    
    function sendSanctuaryMessage() {
      const input = document.getElementById('sanctuaryInput');
      const message = input.value.trim();
      
      if (!message) return;
      
      // Simular env√≠o de mensaje
      const chat = document.getElementById('sanctuaryChat');
      const messageDiv = document.createElement('div');
      messageDiv.className = 'flex items-start space-x-3';
      messageDiv.innerHTML = `
        <div class="w-8 h-8 bg-neon rounded-full flex items-center justify-center text-black font-bold text-sm">U</div>
        <div>
          <div class="flex items-center space-x-2">
            <span class="font-semibold text-neon">T√∫</span>
            <span class="text-xs text-zinc-400">ahora</span>
          </div>
          <p class="text-zinc-300">${message}</p>
        </div>
      `;
      
      chat.appendChild(messageDiv);
      chat.scrollTop = chat.scrollHeight;
      input.value = '';
      
      showToast('Mensaje enviado al Santuario', 'success');
    }

    // ================================
    // TERMINAL
    // ================================
    
    const terminalCommands = {
      help: () => `
Comandos disponibles:
- help: Mostrar esta ayuda
- status: Estado del sistema
- generate [prompt]: Generar m√∫sica r√°pida
- easter: Activar easter eggs
- resistance: Acceder a archivos de la resistencia
- nov4ix: Informaci√≥n del asistente
- clear: Limpiar terminal`,
      
      status: () => `
Son1kVers3 Sistema Status:
========================
üéµ Generador Musical: ONLINE
üëª Ghost Studio: ONLINE  
ü§ñ NOV4-IX Assistant: ONLINE
üèõÔ∏è El Santuario: ONLINE
üì° Conexi√≥n Suno: ACTIVE
üîã Sistema: 98% Operacional`,
      
      easter: () => {
        activateEasterEggs();
        return 'ü•ö Easter eggs activados! Busca las sorpresas ocultas...';
      },
      
      resistance: () => `
üìÅ Archivos de La Resistencia:
=============================
> nov4ix_protocols.enc
> resistance_anthem.wav
> digital_uprising.mp3
> freedom_codes.txt
> cyberpunk_manifesto.md

"Lo imperfecto tambi√©n es sagrado"`,
      
      nov4ix: () => `
NOV4-IX Assistant v4.0
====================
ü§ñ Estado: Online y optimizado
üéµ Especialidad: M√∫sica cyberpunk/synthwave
üß† Base de conocimiento: 10.000+ patrones musicales
‚ö° Tiempo de respuesta: <100ms
üéØ Precisi√≥n: 97.3%

"Tu compa√±ero musical inteligente"`,
      
      clear: () => {
        document.getElementById('terminalOutput').innerHTML = '';
        return '';
      }
    };

    function executeTerminalCommand() {
      const input = document.getElementById('terminalInput');
      const command = input.value.trim();
      const output = document.getElementById('terminalOutput');
      
      if (!command) return;
      
      // Mostrar comando ejecutado
      const commandLine = document.createElement('div');
      commandLine.className = 'text-neon';
      commandLine.textContent = `son1kvers3@terminal:~$ ${command}`;
      output.appendChild(commandLine);
      
      // Ejecutar comando
      const args = command.split(' ');
      const cmd = args[0].toLowerCase();
      
      let result = '';
      if (terminalCommands[cmd]) {
        result = terminalCommands[cmd]();
      } else if (cmd.startsWith('generate ')) {
        const prompt = command.substring(9);
        result = `Generando m√∫sica con prompt: "${prompt}"\n‚è≥ Procesando... ¬°Revisa tu biblioteca en unos momentos!`;
        // Llamar a la funci√≥n de generaci√≥n real
        setTimeout(() => {
          generarMusicaDesdeTerminal(prompt);
        }, 1000);
      } else {
        result = `Comando no reconocido: ${cmd}\nEscribe 'help' para ver comandos disponibles.`;
      }
      
      if (result) {
        const resultDiv = document.createElement('div');
        resultDiv.className = 'text-zinc-300 whitespace-pre-line mb-2';
        resultDiv.textContent = result;
        output.appendChild(resultDiv);
      }
      
      input.value = '';
      output.scrollTop = output.scrollHeight;
    }

    async function generarMusicaDesdeTerminal(prompt) {
      try {
        const response = await fetch(`${API_BASE_URL}/api/generate`, {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
            'ngrok-skip-browser-warning': 'true'
          },
          body: JSON.stringify({
            prompt: prompt,
            style: 'terminal_generation'
          })
        });
        
        if (response.ok) {
          showToast('¬°M√∫sica generada desde terminal!', 'success');
        }
      } catch (error) {
        console.error('Error:', error);
      }
    }

    // ================================
    // EASTER EGGS
    // ================================
    
    function activateEasterEggs() {
      // Efecto matrix en el fondo
      document.body.style.background = 'linear-gradient(45deg, #000, #001100, #000)';
      
      // Cambiar colores temporalmente
      document.documentElement.style.setProperty('--neon', '#ff0080');
      
      // Restaurar despu√©s de 10 segundos
      setTimeout(() => {
        document.body.style.background = '';
        document.documentElement.style.setProperty('--neon', '#00ff88');
        showToast('Easter eggs desactivados', 'success');
      }, 10000);
      
      // Agregar mensajes ocultos
      const secrets = [
        'Nov4-IX te est√° observando...',
        'La resistencia nunca se rinde',
        'Los c√≥digos est√°n en la m√∫sica',
        'El santuario guarda secretos',
        'Lo imperfecto tambi√©n es sagrado'
      ];
      
      secrets.forEach((secret, index) => {
        setTimeout(() => {
          showToast(secret, 'warning');
        }, (index + 1) * 2000);
      });
    }

    // ================================
    // INICIALIZACI√ìN
    // ================================
    
    document.addEventListener('DOMContentLoaded', function() {
      // Mostrar secci√≥n crear por defecto
      showSection('crear');
      
      // Configurar toggles de checkbox
      setupCheckboxToggles();
      
      // Simular usuario logueado
      currentUser = {
        name: 'Usuario Demo',
        email: 'demo@son1kvers3.com',
        plan: 'PRO'
      };
      
      document.getElementById('userName').textContent = currentUser.name;
      document.getElementById('userPlan').textContent = currentUser.plan;
      
      showToast('¬°Bienvenido a Son1kVers3!', 'success');
    });

    function setupCheckboxToggles() {
      // Configurar todos los toggles de checkbox
      document.querySelectorAll('input[type="checkbox"]').forEach(checkbox => {
        const toggle = checkbox.parentElement.querySelector('div');
        const slider = toggle.querySelector('div');
        
        checkbox.addEventListener('change', function() {
          if (this.checked) {
            slider.style.transform = 'translateX(16px)';
            slider.style.backgroundColor = 'var(--neon)';
          } else {
            slider.style.transform = 'translateX(0)';
            slider.style.backgroundColor = 'white';
          }
        });
      });
    }

    function logout() {
      if (confirm('¬øEst√°s seguro de que quieres cerrar sesi√≥n?')) {
        currentUser = null;
        userToken = null;
        showToast('Sesi√≥n cerrada', 'success');
        // Aqu√≠ podr√≠as redirigir a login
      }
    }

    // ================================
    // UTILIDADES
    // ================================
    
    function sanitizeInput(input) {
      return input.replace(/[<>]/g, '');
    }
  </script>
</body>
</html>